<!--
    Exopticon - A free video surveillance system.
    Copyright (C) 2020 David Matthew Mattli <dmm@mattli.us>

    This file is part of Exopticon.

    Exopticon is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Exopticon is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Exopticon.  If not, see <http://www.gnu.org/licenses/>.
-->
<h2>Camera Details</h2>
<ng-container>
  <div class="camera-wrapper" *ngIf="camera$ | async as camera">
    <h3>"{{ camera.name }}"</h3>
    <div class="submitMessage"></div>
    <form #cameraForm="ngForm">
      <label>Name:</label>
      <input [(ngModel)]="camera.name" name="name" />

      <label>ip:</label>
      <input [(ngModel)]="camera.ip" name="ip" />

      <label>onvif port:</label>
      <input [(ngModel)]="camera.onvifPort" name="onvifPort" />

      <label>mac:</label>
      <input [(ngModel)]="camera.mac" name="mac" />

      <label>username:</label>
      <input [(ngModel)]="camera.username" name="username" />

      <label>password:</label>
      <input [(ngModel)]="camera.password" name="password" />

      <label>rtsp url:</label>
      <input [(ngModel)]="camera.rtspUrl" name="rtspUrl" />

      <label for="ptzType">Ptz Type:</label>
      <select
        class="form-control"
        id="ptzType"
        required
        [(ngModel)]="camera.ptzType"
        name="ptzType"
      >
        <option value="none">None</option>
        <option value="onvif">Onvif</option>
        <option value="onvif_continuous">Onvif Continuous</option>
      </select>

      <label>Ptz Profile Token::</label>
      <input [(ngModel)]="camera.ptzProfileToken" name="ptzProfileToken" />

      <label>enabled:</label>
      <input
        type="checkbox"
        [checked]="camera.enabled"
        (change)="camera.enabled = !camera.enabled"
        name="ptzType"
      />

      <button type="submit" (click)="onSubmit(camera)">Edit Camera</button>
    </form>
  </div>
</ng-container>
